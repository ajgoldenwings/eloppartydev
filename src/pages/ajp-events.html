<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-item/paper-item-body.html">
<link rel="import" href="../styles/ajp-common-styles.html">

<link rel="import" href="../../bower_components/iron-scroll-threshold/iron-scroll-threshold.html">
<link rel="import" href="ajp-event-generator.html">

<dom-module id="ajp-events">

	<template id="overlay" size="5">

		<style include="ajp-common-styles">
			h2, h4 {
				padding: 0 0 6px 16px;
				margin: 19.95px 0 0 0;
			}

			.paper-item-link {
				color: inherit;
				text-decoration: none;
			}

			:host([two-line]) {
				min-height: 0;
			}

			body {margin: 0;padding: 0;}
			.loader {background-color: #0b8043;text-align: center;height: 44px;font: 13px arial;line-height: 44px;color: white;}
			.scrollState {text-align: center;font: 14px arial;line-height: 30px;}
			iron-scroll-threshold {	}
		</style>

		<h2>Events</h2>


      <iron-scroll-threshold id="scrollThreshold" name="scrollThreshold" lower-threshold="500" on-lower-threshold="loadMoreData" scroll-target="document">

        <ajp-event-generator size="[[size]]"></ajp-event-generator>

        <div class="loader">Fetching new items...</div>

      </iron-scroll-threshold>

	</template>

	<script>

		Polymer({

			is: 'ajp-events',

			properties: {
				size: {
          type: Number,
          value: 5,
          notify: true
				}

			},

			loadMoreData: function(e) {
				this.size =+ this.size + 5;
				this.$.scrollThreshold.clearTriggers();
			}

		});



	</script>

</dom-module>
